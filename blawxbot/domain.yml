version: "3.1"

intents:
  - greet:
      use_entities: []
  - goodbye:
      use_entities: []
  - affirm:
      use_entities: []
  - deny:
      use_entities: []
  - add_object:
      use_entities:
        - category_name
        - object_name
  - list_objects:
      use_entities:
        - category_name
  - get_object:
      use_entities:
        - object_name
  - delete_object:
      use_entities:
        - object_name
  - add_attribute:
      use_entities:
        - object_name
        - attribute_name
        - value
  - delete_attribute:
      use_entities:
        - object_name
        - attribute_name
        - value
  - list_categories:
      use_entities: []
  - list_attributes:
      use_entities:
        - category_name
  - bot_challenge:
      use_entities: []
  - options:
      use_entities: []

entities:
  - category_name
  - object_name
  - attribute_name
  - value

slots:
  objects:
    type: list
    influence_conversation: false
    mappings:
    - type: custom
  object_name:
    type: text
    mappings:
    - type: from_entity
      entity: object_name
  category_name:
    type: text
    mappings:
    - type: from_entity
      entity: category_name
  attribute_name:
    type: text
    mappings:
    - type: from_entity
      entity: attribute_name
  value:
    type: text
    mappings:
    - type: from_entity
      entity: value

responses:
  utter_greet:
  - text: |
      Hey! I'm BlawxBot.
      
      I am a demo chatbot powered by Rules as Code.

      If you are ever not sure what you can say to me, just ask "what can I do?".

  utter_goodbye:
  - text: "Bye"

  utter_object_added:
  - text: "I have added {object_name} to the category {category_name}."

  utter_object_deleted:
  - text: "I have removed {object_name} from the category {category_name}."

  utter_attribute_added:
  - text: "I have added {value} to the attribute {attribute_name} for the object {object_name}."

  utter_attribute_deleted:
  - text: "I have deleted {value} as a value of the attribute {attribute_name} for the object {object_name}."

  utter_iamabot:
  - text: "I am BlawxBot, an automated assistant powered by Rules as Code."

  utter_any_objects:
  - text: "Are there any objects that you want to tell me about?"
  
  utter_another_object:
  - text: "Is there another object you want to tell me about?"

  utter_options:
  - text: "You can ask me to add an object to a category, saying something like \"Add a Person named Bob\", and you can ask me for the objects I already know about in a category, by saying something like \"What people have I told you about?\"."

actions:
  - action_add_object
  - action_get_object
  - action_list_objects
  - action_delete_object
  - action_add_attribute
  - action_delete_attribute
  - action_list_categories
  - action_list_attributes  

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
